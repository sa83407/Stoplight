# Stoplight

The purpose of this lab is to design and implement a Traffic Light Controller using the MSP432 board. Other objectives and skills obtained include understanding linked data structures, creating a segmented software system, and study real-time synchronization by designing a FSM controller. Software skills obtained are the use of the SysTick timer, advanced index addressing, linked data structures, and debugging real-time systems. A Moore state machine format and state diagram was used to implement the system. The software Multisim was used to simulate the system and analyze the circuit.

##Background:

First, the register addresses for the data ports are defined. Specifically, data addresses for ports 2, 4, and 5. They are defined as PEDESTRIAN, TRAFFIC, and SENSOR, respectively. Ports 2 and 4 are outputs and port 5 is used for the input pushbuttons. Next, 15 different states are defined. The states considered are when North has the green LED on or yellow LED on, East is on the green LED or yellow LED, there’s a pedestrian and a car in the North, there’s a pedestrian and a car in the East, when there’s only a pedestrian trying to cross, and when the “walk” green LED, “hurry” flashing red LED, and “don’t walk” red LED are on. Following, the state in which the system is in is determined by which sensors/pushbuttons are activated. The traffic lights are changed based on the current state of the system. The initial state defined as goN is the current state when the North pushbutton is activated. Second, waitN state becomes the current state when any other push buttons are pressed besides the North.  goE becomes the current state when the East push button is activated. When there’s a car in the East and a pedestrian present, the system will give the pedestrian priority before “allowing” the car in the East to go thru and cycling between the two states if needed. When there’s a car in the North and a pedestrian present, again, the system gives precedence to the pedestrian before allowing the car in the North to go thru and cycling between the two states if needed. The state PwaitN, is the current state when the pedestrian is given priority and the car in the North has to wait. The state PwaitE, is the current state when the pedestrian is given priority and the car in the East has to wait. The goP signals the pedestrian to walk and turns the green LED on. Finally, the system goes through 7 different states after the walk signal in order to let the pedestrian know when it is safe to walk, hurry, or not to walk. 



